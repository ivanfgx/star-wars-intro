{"version":3,"sources":["logo.js"],"names":["frame","currentime","lastime","random_star","stars","Math","floor","random","length","classList","remove","getBBox","add","animation_frame","on_animation_end","element","callback","animationend","_","each","event","once","addEventListener","removeEventListener","type","arguments","callee","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","run_again","document","getElementById","paths","querySelectorAll","audio","Audio","load","play","location","reload","path"],"mappings":"CAAA,WAkBE,QAASA,GAAOC,GACd,GAAIA,GAAcC,EAAU,GAAK,CAC/BA,EAAUD,CACV,IAAIE,GAAcC,EAAMC,KAAKC,MAAMD,KAAKE,SAASH,EAAMI,QACvDL,GAAYM,UAAUC,OAAO,SAC7BP,EAAYQ,UACZR,EAAYM,UAAUG,IAAI,SAE5BC,EAAgBb,GAWlB,QAASc,GAAkBC,EAASC,GAClC,GAAIC,IAAgB,qBAAsB,eAAgB,gBAC1DC,GAAED,GAAcE,KAAK,SAAUC,GAC7BC,EAAKN,EAASK,EAAOJ,KAWzB,QAASK,GAAMN,EAASK,EAAOJ,GAC7BD,EAAQO,iBAAiBF,EAAO,SAAUA,GAExC,MADAL,GAAQQ,oBAAoBH,EAAMI,KAAMC,UAAUC,QAC3CV,EAASI,KACf,GArDL,GAAIP,GAAkBc,OAAOC,uBAAyBD,OAAOE,0BAA4BF,OAAOG,6BAA+BH,OAAOI,wBAClIC,EAAYC,SAASC,eAAe,aACpChC,EAAU,EACViC,EAAQF,SAASG,iBAAiB,yBAClChC,EAAQ6B,SAASG,iBAAiB,0BAClCC,EAAQ,GAAIC,OAAM,uBAEtBD,GAAME,OAmCN,SAA6BxB,EAASC,GACpC,GAAIC,IAAgB,uBAAwB,iBAAkB,kBAC9DC,GAAED,GAAcE,KAAK,SAAUC,GAC7BC,EAAKN,EAASK,EAAOJ,MArCNmB,EAAM,GAAI,SAAUf,GACrCiB,EAAMG,SAGRR,EAAUV,iBAAiB,QAAS,SAAUF,GAC5CqB,SAASC,WAcX7B,EAAgBb,GAEhBkB,EAAEiB,GAAOhB,KAAK,SAAUwB,GACtB7B,EAAiB6B,EAAM,SAAUvB,GAC/BuB,EAAKlC,UAAUG,IAAI","file":"scripts.js","sourcesContent":["(function () {\n\n  var animation_frame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n  var run_again = document.getElementById(\"run-again\");\n  var lastime = 0;\n  var paths = document.querySelectorAll(\".star-wars-paths path\");\n  var stars = document.querySelectorAll(\"#starry-sky-svg circle\");\n  var audio = new Audio(\"assets/star-wars.mp3\");\n\n  audio.load();\n  on_animation_start(paths[0], function (event) {\n    audio.play();\n  });\n\n  run_again.addEventListener(\"click\", function (event) {\n    location.reload();\n  });\n\n  function frame (currentime) {\n    if (currentime >= lastime + 20)  {\n      lastime = currentime;\n      var random_star = stars[Math.floor(Math.random()*stars.length)];\n      random_star.classList.remove(\"blink\");\n      random_star.getBBox();\n      random_star.classList.add(\"blink\");\n    }\n    animation_frame(frame);\n  }\n\n  animation_frame(frame);\n\n  _(paths).each(function (path) {\n    on_animation_end(path, function (event) {\n      path.classList.add(\"reset\");\n    });\n  });\n\n  function on_animation_end (element, callback) {\n    var animationend = [\"webkitAnimationEnd\", \"animationend\", \"oanimationend\"];\n    _(animationend).each(function (event) {\n      once(element, event, callback);\n    });\n  }\n\n  function on_animation_start (element, callback) {\n    var animationend = [\"webkitAnimationStart\", \"animationstart\", \"oanimationstart\"];\n    _(animationend).each(function (event) {\n      once(element, event, callback);\n    });\n  }\n\n  function once (element, event, callback) {\n    element.addEventListener(event, function (event) {\n      element.removeEventListener(event.type, arguments.callee);\n      return callback(event);\n    }, false);\n  }\n\n})();"]}